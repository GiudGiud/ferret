reset
create brick x 60
create sphere radius 5
create sphere radius 5
volume 2 move 6 0 0
volume 3 move -6 0 0
subtract volume 2 from volume 1
subtract volume 3 from volume 4
create sphere radius 5
create sphere radius 5
volume 6 move 6 0 0
volume 7 move -6 0 0
merge surface all with surface all
compress all

volume 2 3 size 0.5
volume 1 size 0.5

surface 1 2 3 4 5 6 size 12.5 #this allows a bias on the volume 3 but then redefines the bias on the external block.
volume 1 2 3 scheme tetmesh

mesh volume 1 2 3

sideset 1 surface 1
sideset 2 surface 2
sideset 3 surface 3
sideset 4 surface 4
sideset 5 surface 5
sideset 6 surface 6

block 1 volume 2 3
block 2 volume 1
block all element type tetra4
set large exodus file off
export Genesis  "./exodus_two_sphere_r5_eta2.e" dimension 3 block all overwrite


#some extra care with "touching spheres"

reset
create brick x 80
create sphere radius 5
create sphere radius 5
volume 2 move 4.9 0 0
volume 3 move -4.9 0 0
subtract volume 2 from volume 1
subtract volume 3 from volume 4
create sphere radius 5
create sphere radius 5
volume 6 move 4.9 0 0
volume 7 move -4.9 0 0
unite volume 6 7
merge surface all with surface all
compress all

volume 2 size 0.5
volume 1 size 0.5

surface 1 2 3 4 5 6 size 12.5 #this allows a bias on the volume 3 but then redefines the bias on the external block.
volume 1 2 scheme tetmesh

mesh volume 1 2

sideset 1 surface 1
sideset 2 surface 2
sideset 3 surface 3
sideset 4 surface 4
sideset 5 surface 5
sideset 6 surface 6

block 1 volume 2
block 2 volume 1
block all element type tetra4
set large exodus file off
export Genesis  "./exodus_two_sphere_r5_eta0.e" dimension 3 block all overwrite
