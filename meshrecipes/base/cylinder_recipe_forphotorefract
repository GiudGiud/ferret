reset
create cylinder radius 8 height 1
create brick x 20 y 20 z 20
volume 2 move 0 10 0
subtract volume 2 from volume 1
create brick x 20 y 20 z 20
volume 3 move 10 0 0
subtract volume 3 from volume 1
volume 1 copy move 0 8 0
volume 4 rotate -90 about 0 0 1
volume 4 move -8 0 0
volume 1 4 copy move 8 0 0
volume 5 6 rotate 180 about 0 1 0
volume 5 6 move 8 0 0
compress all
merge surface all with surface all

volume 1 size 0.55
volume 1 scheme sweep
mesh volume 1 2 3 4

#cylindrical sides of grains
sideset 1 surface 2
sideset 2 surface 7
sideset 3 surface 12
sideset 4 surface 17

#top
sideset 5 surface 3 8 15 20
#bottom
sideset 6 surface 5 10 13 18

block 1 volume 1
block 2 volume 2
block 3 volume 3
block 4 volume 4

block all element type hex8
set large exodus file off
export Genesis "./exodus_disk_r8_h1_photo.e" dimension 3 block all overwrite


#2D:

reset
create surface circle radius 8 zplane
create surface rectangle width 20 zplane
body 2 move 0 10 0
subtract body 2 from body 1
create surface rectangle width 20 zplane
body 3 move 10 0 0
subtract body 3 from body 1
body 1 copy move 0 8 0
body 4 rotate -90 about 0 0 1
body 4 move -8 0 0
body 1 4 copy move 8 0 0
body 5 6 rotate 180 about 0 1 0
body 5 6 move 8 0 0
compress all
merge surface all with surface all

surface 1 2 3 4 size 0.2
mesh surface 1 2 3 4

sideset 1 curve 3 6 9 12


block 1 surface 1 2 3 4

block all element type quad
set large exodus file off
export Genesis "./exodus_disk_r8_2d.e" dimension 2 block all overwrite





reset
create cylinder radius 8 height 2
compress all
merge surface all with surface all

volume 1 size 0.65
volume 1 scheme sweep
mesh volume 1

sideset 1 surface 1
sideset 2 surface 2
sideset 3 surface 3

block 1 volume 1

block all element type hex8
set large exodus file off
export Genesis "./exodus_disk_r8_h2.e" dimension 3 block all overwrite


#with electrodes

reset
create cylinder radius 8 height 5
create cylinder radius 8 height 11
volume 2 move 0 0 8
create cylinder radius 8 height 11
volume 3 move 0 0 -8
compress all
merge surface all with surface all

volume 1 size 0.75
surface 6 8 size 1.5
volume 1 2 3 scheme tetmesh
mesh volume 1 2 3

#outside dielectric
sideset 1 surface 1

#top and bottom of dielectric
sideset 2 surface 2
sideset 3 surface 3

#top and bottom of electroded regions
sideset 4 surface 6
sideset 5 surface 8

#dielectric
block 1 volume 1
#electroded region
block 2 volume 2 3

block all element type tetra4
set large exodus file off
export Genesis "./exodus_electroded_disk_r8_h5.e" dimension 3 block all overwrite




#with electrodes QUADS

reset
create cylinder radius 8 height 5
create cylinder radius 8 height 11
volume 2 move 0 0 8
create cylinder radius 8 height 11
volume 3 move 0 0 -8
compress all
merge surface all with surface all

volume 1 size 0.75
surface 6 8 size 1.5
volume 1 2 3 scheme sweep
mesh volume 1 2 3

#outside dielectric
sideset 1 surface 1

#top and bottom of dielectric
sideset 2 surface 2
sideset 3 surface 3

#top and bottom of electroded regions
sideset 4 surface 6
sideset 5 surface 8

#dielectric
block 1 volume 1
#electroded region
block 2 volume 2 3

block all element type tetra4
set large exodus file off
export Genesis "./exodus_electroded_disk_r8_h5.e" dimension 3 block all overwrite




#TEST FILE SMALL


reset
create cylinder radius 8 height 1.5
create cylinder radius 8 height 18
volume 2 move 0 0 9.75
create cylinder radius 8 height 18
volume 3 move 0 0 -9.75
compress all
merge surface all with surface all

volume 1 size 0.25
surface 6 8 size 1.0
volume 1 2 3 scheme tetmesh
mesh volume 1 2 3

#outside dielectric
sideset 1 surface 1

#top and bottom of dielectric
sideset 2 surface 2
sideset 3 surface 3

#top and bottom of electroded regions
sideset 4 surface 6
sideset 5 surface 8

#dielectric
block 1 volume 1
#electroded region
block 2 volume 2 3

block all element type tetra4
set large exodus file off
export Genesis "./exodus_electroded_disk_r8_h1p5.e" dimension 3 block all overwrite
